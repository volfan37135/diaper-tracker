{% extends "base.html" %}
{% block title %}Manage Brands - Diaper Tracker{% endblock %}

{% block content %}
<h1>Manage Brands</h1>

<div class="card">
    <h2>Add New Brand</h2>
    <form method="POST" action="{{ url_for('manage_brands') }}" class="form form-inline">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.brand_name(class="form-control", placeholder="Enter brand name") }}
        </div>
        <button type="submit" class="btn btn-primary">Add Brand</button>
    </form>
</div>

<div class="card">
    <h2>Saved Brands</h2>
    {% if brands %}
    <div class="brand-list">
        {% for brand in brands %}
        <div class="brand-item">
            <form method="POST" action="{{ url_for('edit_brand', brand_id=brand.id) }}" class="brand-edit-form">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <input type="text" name="brand_name" value="{{ brand.brand_name }}"
                       class="form-control brand-input">
                <button type="submit" class="btn btn-sm btn-secondary">Save</button>
            </form>
            <form method="POST" action="{{ url_for('delete_brand', brand_id=brand.id) }}"
                  class="inline-form"
                  onsubmit="return confirm('Delete &quot;{{ brand.brand_name }}&quot; from saved brands? This will NOT affect existing purchase records.')">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <button type="submit" class="btn btn-sm btn-danger">Delete</button>
            </form>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="empty-state">No brands saved yet.</p>
    {% endif %}
</div>

<p class="help-text">
    Deleting a brand only removes it from the autocomplete list.
    Existing purchase records are not affected.
</p>
{% endblock %}
